<mat-vertical-stepper linear="true" orientation="vertical" #stepper>
  <form [formGroup]="form">

    <mat-step [stepControl]="form" [completed]="false">
      <ng-template matStepLabel>
        <span appLabel="whatIsYourName"></span>
      </ng-template>
      <div>
        <mat-form-field appearance="outline">
          <mat-label appLabel="firstName"></mat-label>
          <input matInput formControlName="firstName" required>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label appLabel="lastName"></mat-label>
          <input matInput formControlName="lastName" required>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label appLabel="phone"></mat-label>
          <input matInput formControlName="phone">
        </mat-form-field>
      </div>
      <div>
        <button mat-button matStepperNext appLabel="continue"></button>
      </div>
    </mat-step>

    <mat-step [stepControl]="form" [completed]="false">
      <ng-template matStepLabel>
        <span appLabel="addAProfilePicture"></span>
      </ng-template>
      <app-media-form formControlName="uploads" class="content-full-width" [maxFiles]="1" (uploads)="addUploads($event)"></app-media-form>
        <div>
          <button mat-button matStepperPrevious appLabel="previous"></button>
          <button mat-button matStepperNext appLabel="continue"></button>
        </div>
    </mat-step>

    <mat-step [stepControl]="form" [completed]="false">
      <ng-template matStepLabel>
        <span appLabel="applyToBeABlogger"></span>
      </ng-template>
      <section>
        <span appLabel="iApplyAsABlogger"></span>
        <mat-slide-toggle formControlName="author" color="primary"></mat-slide-toggle>
      </section>
      <mat-form-field class="content-full-width" appearance="outline">
        <mat-label appLabel="writeSomethingAboutYou"></mat-label>
        <textarea formControlName="content" matInput rows="5"></textarea>
      </mat-form-field>
      <div>
        <button mat-button matStepperPrevious appLabel="previous"></button>
        <button mat-button matStepperNext appLabel="continue"></button>
      </div>
    </mat-step>

    <mat-step [stepControl]="form" [completed]="false">
      <ng-template matStepLabel>
        <span appLabel="joinAnOrganisation"></span>
      </ng-template>
      <div>
        <mat-form-field class="content-full-width" appearance="outline">
          <mat-label appLabel="organisations"></mat-label>
          <mat-select formControlName="organisations" multiple>
            <mat-option *ngFor="let organisation of (organisations | async)" [value]="organisation">
              {{ organisation.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div>
        <button mat-button matStepperPrevious appLabel="previous"></button>
        <button mat-button matStepperNext appLabel="continue"></button>
      </div>
    </mat-step>

    <mat-step [stepControl]="form" [completed]="false">
      <ng-template matStepLabel>
        <span appLabel="language"></span>
      </ng-template>
      <div>
        <mat-form-field class="content-full-width" appearance="outline">
          <mat-label appLabel="language"></mat-label>
          <mat-select formControlName="languageId">
            <mat-option 
              [value]="language.id" 
              *ngFor="let language of languages | async">
              {{ language.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div>
        <button mat-button matStepperPrevious appLabel="previous"></button>
        <button mat-button matStepperNext appLabel="continue"></button>
      </div>
    </mat-step>

    <mat-step [completed]="false">
      <ng-template matStepLabel>
        <span appLabel="done"></span>
      </ng-template>
      <div>
        <button mat-button matStepperPrevious appLabel="previous"></button>
        <button mat-button [routerLink]="['/']" appLabel="save" (click)="saveData()"></button>
      </div>
    </mat-step>

  </form>
</mat-vertical-stepper>