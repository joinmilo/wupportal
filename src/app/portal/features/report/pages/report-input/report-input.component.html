<main class="main">
  <app-page-title title="feedback"></app-page-title>
  <form [formGroup]="form" #formDirective="ngForm" (ngSubmit)="onSubmit(formDirective)">
    <h2 class="mat-headline-6" appLabel="giveUsFeedback"></h2>
    <div>
      <p appLabel="needYourFeedback"></p>
      <p appLabel="featureRequest">
      </p>
    </div>
    <section>
      <div>
        <mat-form-field appearance="outline">
          <mat-label appLabel="topic"></mat-label>
          <mat-select formControlName="type">
            <mat-option [value]="type" *ngFor="let type of types | async">
              <p>{{type | translatable: "name" | async}}</p>
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field appearance="outline">
          <mat-label appLabel="name"></mat-label>
          <input matInput id="name" formControlName="name" placeholder="Max Mustermann">
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label appLabel="email"></mat-label>
          <input matInput id="email" formControlName="email" placeholder="m.mustermann@example.com">
        </mat-form-field>
      </div>
      <div>
        <mat-form-field appearance="outline">
          <mat-label appLabel="content"></mat-label>
          <textarea formControlName="content" matInput rows="5"></textarea>
        </mat-form-field>
      </div>
      <app-form-captcha formControlName="captchaToken"></app-form-captcha>
      <div>
        <button mat-flat-button [disabled]="form.invalid" type="submit" mat-flat-button color="primary">
          <fa-icon click [icon]=" ['far', 'envelope']"></fa-icon>
          <label appLabel="send"></label>
        </button>
      </div>
    </section>
  </form>
</main>